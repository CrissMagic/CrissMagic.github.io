<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>CentOS7利用Nginx简易部署前端项目（更新离线安装步骤） | 一人行者</title><script src="https://cdn.bootcss.com/valine/1.4.4/Valine.min.js"></script><link rel="stylesheet" href="/css/arknights.css"><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark-reasonable.min.css"><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="一人行者" type="application/atom+xml">
</head><body><header><nav><a href="/">Home</a><a href="/archives/">Archives</a></nav></header><main><article><div id="post-bg"><div id="post-title"><h1>CentOS7利用Nginx简易部署前端项目（更新离线安装步骤）</h1><hr></div><div id="post-content"><p><img src="https://img.hacpai.com/bing/20181002.jpg?imageView2/1/w/960/h/540/interlace/1/q/100"></p>
<h1 id="CentOS7-利用-Nginx-部署前端项目"><a href="#CentOS7-利用-Nginx-部署前端项目" class="headerlink" title="CentOS7 利用 Nginx 部署前端项目"></a>CentOS7 利用 Nginx 部署前端项目</h1><p>最近研究如何将 bpmn-js 与 vue 进行整合，方便工作流开发，但始终出现依赖未找到问题，故采用额外部署前端项目，再在平台引入链接访问的方式，此处记录一下如何简易在 Nginx 上部署一个前端项目，主要参考<a target="_blank" rel="noopener" href="https://blog.csdn.net/wsbgmofo/article/details/78771255">该博客</a></p>
<h2 id="整体流程"><a href="#整体流程" class="headerlink" title="整体流程"></a>整体流程</h2><ol>
<li>下载并解压 Nginx，这里以 1.4.7 为例</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plain">wget http:&#x2F;&#x2F;nginx.org&#x2F;download&#x2F;nginx-1.4.7.tar.gz<br>tar -zxvf nginx-1.4.7.tar.gz<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>安装 gcc 等依赖包</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plain">yum -y install gcc pcre-devel openssl openssl-devel<br></code></pre></td></tr></table></figure>

<ol start="3">
<li>开始安装 nginx</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plain"># cd进入nginx-1.4.7目录内<br># 配置，默认安装路径为&#x2F;usr&#x2F;local&#x2F;nginx<br>.&#x2F;configure<br># 编译安装<br>make&amp;&amp;make install<br></code></pre></td></tr></table></figure>

<ol start="4">
<li>修改配置文件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs plain"># nginx-1.4.7&#x2F;conf&#x2F;nginx.conf<br>server &#123;<br>	# 该虚拟主机监听的端口号<br>        listen       8999;<br><br>        # 该虚拟主机访问的域名或ip地址，多个可用空格隔开<br>        server_name  localhost;<br><br>	# 编码<br>        #charset utf-8;<br><br>        #access_log  logs&#x2F;host.access.log  main;<br><br>        location &#x2F; &#123;<br>            # nginx下HTML文件夹，访问上述域名会检索此文件夹下的文件进行访问<br>            # 可以将上传的dist目录修改为项目名<br>            root   html&#x2F;bpmn;<br>            # 输入网址（server_name：port）后，默认的访问页面<br>            index  index.html index.htm;<br>        &#125;<br><br></code></pre></td></tr></table></figure>

<ol start="5">
<li><p>上传前端 dist 文件夹至/usr/local/nginx/html，修改 dist 与上述配置文件配置的 root 后的路径一致</p>
</li>
<li><p>启动，默认安装在/usr/local/nginx/sbin/nginx</p>
</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Linux">&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin&#x2F;nginx -c &#x2F;nginx-1.4.7&#x2F;conf&#x2F;nginx.conf<br></code></pre></td></tr></table></figure>

<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><h3 id="1-其他命令"><a href="#1-其他命令" class="headerlink" title="1. 其他命令"></a>1. 其他命令</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Linux"># 切换至&#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin目录<br>cd &#x2F;usr&#x2F;local&#x2F;nginx&#x2F;sbin<br># fast shutdown<br>.&#x2F;nginx -s stop<br># graceful shutdown<br>.&#x2F;nginx -s quit<br># reloading the configuration file<br>.&#x2F;nginx -s reload<br># reopening the log files<br>.&#x2F;nginx -s reopen<br></code></pre></td></tr></table></figure>

<h3 id="2-配置跨域"><a href="#2-配置跨域" class="headerlink" title="2. 配置跨域"></a>2. 配置跨域</h3><p>可以在 location 下配置完成跨域：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Linux">add_header &#39;Access-Control-Allow-Origin&#39; &#39;*&#39;;<br>add_header &#39;Access-Control-Allow-Credentials&#39; &#39;true&#39;;<br></code></pre></td></tr></table></figure>

<h3 id="3-离线安装"><a href="#3-离线安装" class="headerlink" title="3. 离线安装"></a>3. 离线安装</h3><p>有时候没有 root 权限的时候就需要离线安装，并且也可以指定 nginx 的安装位置，下面记录一下具体的过程</p>
<h4 id="安装编译依赖包"><a href="#安装编译依赖包" class="headerlink" title="安装编译依赖包"></a>安装编译依赖包</h4><ol>
<li>切换到依赖包安装位置</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Linux">cd &#x2F;home&#x2F;criss&#x2F;nginx&#x2F;package&#x2F;<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>上传依赖包<br><a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1AxOHSglVwvch4J4Ti4nVWA">提取码：mdmf</a></li>
<li>安装 pcre</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Linux"># 解压<br>tar -zxvf pcre-8.38.tar.gz<br><br># 切换目录<br>cd pcre-8.38<br><br># 编译<br>.&#x2F;configure<br><br>make &amp;&amp; make install<br></code></pre></td></tr></table></figure>

<ol start="4">
<li>安装 zlib</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Linux"># 解压<br>tar -zxvf zlib-1.2.11.tar.gz<br><br># 切换目录<br>cd zlib-1.2.11<br><br># 编译<br>.&#x2F;configure<br><br>make &amp;&amp; make install<br></code></pre></td></tr></table></figure>

<ol start="5">
<li>安装 ssl</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Linux"># 解压<br>tar -zxvf openssl-1.0.1t.tar.gz<br></code></pre></td></tr></table></figure>

<h4 id="自定义安装-Nginx"><a href="#自定义安装-Nginx" class="headerlink" title="自定义安装 Nginx"></a>自定义安装 Nginx</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs plain"># 解压<br>tar -zxvf nginx-1.4.7.tar.gz<br><br># 切换目录<br>cd nginx-1.4.7<br><br># 设置常量<br># 自定义位置 &#x3D; &#x2F;home&#x2F;criss&#x2F;nginx（需提前创建好目录）<br># 最好是删除换行后执行<br>.&#x2F;configure\<br>--prefix&#x3D;&#x2F;自定义位置&#x2F; \                                      <br>--sbin-path&#x3D;&#x2F;自定义位置&#x2F;nginx\<br>--conf-path&#x3D;&#x2F;自定义位置&#x2F;nginx.conf \<br>--pid-path&#x3D;&#x2F;自定义位置&#x2F;nginx.pid \<br>--with-http_ssl_module \<br># 下方注意换成上述3个依赖安装的具体目录<br>--with-pcre&#x3D;&#x2F;home&#x2F;criss&#x2F;nginx&#x2F;package&#x2F;pcre-8.38 \<br>--with-zlib&#x3D;&#x2F;home&#x2F;criss&#x2F;nginx&#x2F;package&#x2F;zlib-1.2.11 \<br>--with-openssl&#x3D;&#x2F;home&#x2F;criss&#x2F;nginx&#x2F;package&#x2F;openssl-1.0.1t<br><br># 编译安装<br>make &amp;&amp; make install                                  <br></code></pre></td></tr></table></figure>
<div id="paginator"></div></div><div id="post-footer"><hr><a href="/articles/2019/12/27/1577437127246.html">← Prev 关于Oracle与MybatisPlus在使用时遇到的一些问题</a><span style="color: #fe2"> | </span><a href="/articles/2019/12/03/1575356672479.html">小说推荐：《诡秘之主》- 爱潜水的乌贼 Next →</a><hr></div><div id="bottom-btn"><a id="to-index" href="#post-index" title="index">≡</a><a id="to-top" href="#post-title" title="to top">∧</a></div><div id="Valine"></div><script>new Valine({
 el: '#Valine'
 , appId: ''
 , appKey: ''
 , placeholder: '此条评论委托企鹅物流发送'
})</script></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/"> Dr.CrissMagic</a></h1><section id="total"><a id="total-archives" href="/archives"><span class="total-title">Archives Total:</span><span class="total-number">25</span></a><div id="total-tags"><span class="total-title">Tags:</span><span class="total-number">28</span></div><div id="total-categories"><span class="total-title">Categories:</span><span class="total-number">0</span></div></section></div><div id="aside-block"></div><footer><nobr><span class="text-title">©</span><span class="text-content">1970 to 2020</span></nobr><wbr><nobr><span class="text-title">ICP</span><span class="text-content">——备案号——</span></nobr><wbr><wbr><nobr>published with&nbsp;<a target="_blank" rel="noopener" href="http://hexo.io">Hexo&nbsp;</a></nobr><wbr><nobr>Theme&nbsp;<a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknight&nbsp;</a></nobr><wbr><nobr>by&nbsp;<a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/arknights.js"></script><script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script></body></html>